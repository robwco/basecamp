<!DOCTYPE html>
<html>
<head>
	<title>HEY - Set Aside Redesign Protoype</title>
	<link rel="stylesheet" type="text/css" href="./set-aside.css" />
	<link rel="stylesheet" type="text/css" href="/basecamp/set-aside.css" />
	<!--<link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
	<link rel="stylesheet" type="text/css" href="/basecamp/property-of-basecamp.css" />
	<link rel="stylesheet" type="text/css" href="/basecamp/set-aside-drag-and-drop.css" />-->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/2.3.0/alpine.js" integrity="sha512-nIwdJlD5/vHj23CbO2iHCXtsqzdTTx3e3uAmpTm4x2Y8xCIFyWu4cSIV8GaGe2UNVq86/1h9EgUZy7tn243qdA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://cdn.jsdelivr.net/npm/jquery-sortablejs@latest/jquery-sortable.js"></script>
</head>

<body>
	<main id="main-content">
		<div class="page__content">
			<header class="align--center@desktop u-relative"  style="margin-top:50px;">
			  <h1 class="flush">
			  	Set Aside
			  </h1>

			  <p style="margin-top:5px; margin-bottom: 0;">
			  	Everything you‚Äôve marked as Set Aside.
			  </p>

			  <div style="right:0; top: 0; position: absolute;" x-data="{id: 1}">
					<button class="btn btn--icon btn--icon-new" @click="$dispatch('open-new-pile',{id})">
						Pile</button>
				</div>
			</header>

			<section class="cards push--top u-relative" style="margin-top:50px; box-sizing: border-box;">
				<article
					class="card u-relative"
					x-data="{ open: false }"
			    x-show.transition.origin.top.left="open"
			    @open-new-pile.window="if ($event.detail.id == 1) open = true" style="box-sizing: border-box;">
					<div class="card__content">
						<div class="card__header align--center@desktop">
							<h2 class="card__title flush" contenteditable="true">
								<span style="background-color: #CCBDFE;">New Pile</span>
							</h2>
						</div>
					</div>
					
					<div class="card__actions">
						<button class="btn btn--save">Save</button>
						<button class="btn">Cancel</button>
					</div>
				</article>

				<article
					class="card u-relative" 
					draggable="true" >
					<div class="card__content">
						<div class="card__header">
							<h2 class="card__title">
								Applying to Basecamp
							</h2>

							<div class="flex flex--align-center">
				        <div class="card__avatar bulk-actions__trigger btn--plain flush u-relative">
				        	<div class="card__avatar-placeholder">
				        		JF
				        	</div>
								</div>

				        <div class="card__meta txt--small txt--ellipsis">
				          <span class="card__sender">
				            Jason Fried
				          </span>

				          <time>Jun 21</time>
				        </div>
							</div>
						</div>

						<div class="">
							<p>Wonderful, thanks!</p>
							<p>Happy Father's Day to you as well.</p>
							<p>-Jason</p>
							<p>On June 21, 2021, Robert Williams robert.williams@hey.com wrote: You are my friend you are special.</p>
						</div>
					</div>
				</article>

				<article
					class="card card__pile u-relative">
					<div class="card__content">
						<div class="card__header">
							<h2 class="card__title flush align--center@desktop">
								‚õ∫Ô∏è Basecamp Application
							</h2>
						</div>

						<div class="card__pile__tray">
							<div class="card" 
								draggable="true">
								<div class="flex flex--align-center">
					        <div class="card__avatar bulk-actions__trigger btn--plain flush u-relative">
					        	<div class="card__avatar-placeholder">
					        		JF
					        	</div>
									</div>

					        <div class="card__meta txt--small txt--ellipsis">
					          <span class="card__sender">
					            Jason Fried
					          </span>

					          <span class="card__note">
					          	Call 888-555-3737
					          </span>

					          <time>Jun 21</time>
					        </div>
								</div>
							</div>

							<div class="card__pile__tray__slot--empty"></div>
						</div>
					</div>
				</article>

				<article
					class="card card__pile u-relative">
					<div class="card__content">
						<div class="card__header">
							<h2 class="card__title flush align--center@desktop">
								üö® Reservations for Friday
							</h2>
						</div>

						<div class="card__pile__tray__slot--empty"></div>
					</div>
				</article>

			</section>
		</div>
	</main>

	<script>
		function handleDragStart(e) {
    this.style.opacity = '0.2';
    this.style.border = '3px dashed #B2B2B2';
		  dragSrcEl = this;
	  	e.dataTransfer.effectAllowed = 'move';
	  	e.dataTransfer.setData('text/html', this.innerHTML);
	  }

		function handleDrop(e) {
		  e.stopPropagation();

		  if (dragSrcEl !== this) {
		    dragSrcEl.innerHTML = this.innerHTML;
		    this.innerHTML = e.dataTransfer.getData('text/html');
		  }

		  return false;
		}
	  function handleDragEnd(e) {
	    this.style.opacity = '1';
    	this.style.border = '0';
	    items.forEach(function (item) {
      	item.classList.remove('card--hovered-over');
    	});
	  }

	  function handleDragOver(e) {
    if (e.preventDefault) {
      e.preventDefault();
    }

	    return false;
	  }

	  function handleDragEnter(e) {
	    this.classList.add('card--hovered-over');
	  }

	  function handleDragLeave(e) {
	    this.classList.remove('card--hovered-over');
	  }

	  let items = document.querySelectorAll('.cards .card');
	  items.forEach(function(item) {
	    item.addEventListener('dragstart', handleDragStart, false);
	    item.addEventListener('dragend', handleDragEnd, false);
	    item.addEventListener('dragenter', handleDragEnter, false);
    	item.addEventListener('dragleave', handleDragLeave, false);
    	item.addEventListener('dragend', handleDragEnd, false);
	  });
	</script>
</body>
</html>


<!--
			<div class="inboxes">
				<div class="drag-and-drop" x-data="{ adding: false, removing: false }">
					<section id="postings drag-and-drop__items" class="cards push--top">
						<article 
							style="display: none;"
	            id="item-14"
	            class="card drag-and-drop__item"
	            :class="{ 'drag-and-drop__item--dragging': dragging }"
	            x-on:dragstart.self="
	                dragging = true;
	                event.dataTransfer.effectAllowed='move';
	                event.dataTransfer.setData('text/plain', event.target.id);
	            "
	            x-on:dragend="dragging = false"
	            x-data="{ dragging: false }"
	            draggable="true">
	            	New Space

	            	<a href="#" class="btn">Save</a>
	            	<a href="#" class="btn">Cancel</a>
						</article>

						<article 
	            id="item-14"
	            class="card drag-and-drop__item"
	            :class="{ 'drag-and-drop__item--dragging': dragging }"
	            x-on:dragstart.self="
	                dragging = true;
	                event.dataTransfer.effectAllowed='move';
	                event.dataTransfer.setData('text/plain', event.target.id);
	            "
	            x-on:dragend="dragging = false"
	            x-data="{ dragging: false }"
	            draggable="true">
	            <div class="card__content">
	            	<div class="card__header">
		            	<h2 class="card__title hdg hdg--large push_quarter--top push_half--bottom txt--break-words pad--bottom@android">
		            		Email Subject Line
		            	</h2>
	            	</div>
	            </div>
						</article>

						<article class="card space drag-and-drop__container drag-and-drop__container--to align--center@desktop">	            <div class="card__content">
	            <div class="card__content">
	            	<div class="card__header">
		            	<h2 class="card__title hdg hdg--large push_quarter--top push_half--bottom txt--break-words pad--bottom@android">
		            		üö® Itinerary for Friday
		            	</h2>
	            	</div>
	            </div>

							<div
								class="drag-and-drop__items"
		            :class="{ 'drag-and-drop__items--adding': adding }"
		            x-on:drop="adding = false"
		            x-on:drop.prevent="
		                const target = event.target.closest('div');
		                const element = document.getElementById(event.dataTransfer.getData('text/plain'));
		                target.appendChild(element);
		            "
		            x-on:dragover.prevent="adding = true"
		            x-on:dragleave.prevent="adding = false"
								x-on:dragover.prevent="removing = true"
            		x-on:dragleave.prevent="removing = false"
		            class="drag-and-drop__items"
            		:class="{ 'drag-and-drop__items--removing': removing }"
            		x-on:drop="removing = false"
            		x-on:drop.prevent="
                const id = event.dataTransfer.getData('text/plain');
                const target = event.target.closest('ul');
                const element = document.getElementById(id);
                target.appendChild(element);
            		">
									<div
			                id="item-13"
			                class="card drag-and-drop__item"
			                :class="{ 'drag-and-drop__item--dragging': dragging }"
			                x-on:dragstart.self="
			                    dragging = true;
			                    event.dataTransfer.effectAllowed='move';
			                    event.dataTransfer.setData('text/plain', event.target.id);
			                "
			                x-on:dragend="dragging = false"
			                x-data="{ dragging: false }"
			                draggable="true">
			                Item 13
			            </div>
							</div>
						</article>

						<article class="card space drag-and-drop__container drag-and-drop__container--to align--center@desktop">
					        <h3 class="drag-and-drop__title">‚õ∫Ô∏è Basecamp Application</h3>
					        <div
					            class="drag-and-drop__items"
					            :class="{ 'drag-and-drop__items--adding': adding }"
					            x-on:drop="adding = false"
					            x-on:drop.prevent="
					                const target = event.target.closest('div');
					                const element = document.getElementById(event.dataTransfer.getData('text/plain'));
					                target.appendChild(element);
					            "
					            x-on:dragover.prevent="adding = true"
					            x-on:dragleave.prevent="adding = false">
					            
											<div
					                id="item-1"
					                class="card drag-and-drop__item"
					                :class="{ 'drag-and-drop__item--dragging': dragging }"
					                x-on:dragstart.self="
					                    dragging = true;
					                    event.dataTransfer.effectAllowed='move';
					                    event.dataTransfer.setData('text/plain', event.target.id);
					                "
					                x-on:dragend="dragging = false"
					                x-data="{ dragging: false }"
					                draggable="true">
					                Item 1
					            </div>

	                    <div
				                id="item-12"
				                class="card drag-and-drop__item"
				                :class="{ 'drag-and-drop__item--dragging': dragging }"
				                x-on:dragstart.self="
				                    dragging = true;
				                    event.dataTransfer.effectAllowed='move';
				                    event.dataTransfer.setData('text/plain', event.target.id);
				                "
				                x-on:dragend="dragging = false"
				                x-data="{ dragging: false }"
				                draggable="true">
				                Item 12
				            	</div>
					        </div>
						</article>
					</section>
				</div>
			</div>
		</div>-->
